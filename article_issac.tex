\documentclass[sigconf]{acmart}

\copyrightyear{2021}
\acmYear{2021}
\setcopyright{rightsretained}
\acmConference[ISSAC '22]{International Symposium on Symbolic and Algebraic Computation}{July 4--7, 2022}{Lille, France}
\acmBooktitle{International Symposium on Symbolic and Algebraic Computation (ISSAC '22), July 4--7, 2022, Lille, France}
\acmPrice{15.00}
\acmDOI{XX.XXX/XXXXXX.XXXXXX}
\acmISBN{XXXXXXXXXXXXXXXXXXX}


\setlength{\paperheight}{11in}
\setlength{\paperwidth}{8.5in}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}


%\usepackage{lmodern}
%\usepackage[a4paper]{geometry}

\usepackage{amsmath,  mathrsfs}
\usepackage[all]{xy}
\usepackage{stmaryrd}

\usepackage{tikz}
\usepackage{hyperref}


\usepackage{algorithm}
\usepackage[noend]{algorithmic}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
%\usepackage{graphicx}

\usepackage[english]{babel}
\usepackage{amsthm}
\theoremstyle{plain}
\newtheorem{lem}{Lemma}[section]
\newtheorem{prop}[lem]{Proposition}
\newtheorem{thm}[lem]{Theorem}
\newtheorem{cor}[lem]{Corollaire}
\newtheorem{axi}{Axiome}

\theoremstyle{definition}
\newtheorem{defn}[lem]{Definition}
\newtheorem*{fact}{Fact}


\theoremstyle{remark}
\newtheorem{step}{\'Etape}
\newtheorem*{rmk}{Remark}
\newtheorem*{expl}{Example}


\newcommand{\N}{\mathbb{N}}
\newcommand{\NN}{\mathbb N}
\newcommand{\MM}{\mathbb M}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Zp}{\mathbb{Z}_p}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\Qp}{\Q_p}
\newcommand\cO{\mathcal{O}}
\newcommand{\softO}{O\tilde{~}}
\newcommand{\ddx}{\frac{\mathrm{d}\phantom{x}}{\mathrm{d}x}}
\newcommand{\OKun}{O_K([0,1])}
\newcommand{\val}{\mathrm{val}}


\newcommand\cY{\mathcal{Y}}
\newcommand{\ud}{\mathrm{d}}

\newcommand{\sss}{\mathfrak{s}}

\newcommand{\LT}{LT}
\newcommand{\LC}{LC}
\newcommand{\LM}{LM}

\newcommand{\GS}{G^{[\Sigma]}}

\newcommand\Zpt{\Zp\llbracket t \rrbracket}
\newcommand\Qpt{\Qp\llbracket t \rrbracket}
\newcommand\wrt{with respect to\xspace}

\newcommand{\X}{\mathbf{X}}
\newcommand{\Y}{\mathbf{Y}}
\renewcommand{\i}{\mathbf{i}}
\renewcommand{\j}{\mathbf{j}}
\renewcommand{\r}{\mathbf{r}}

\newcommand\fixmecc[1]{{\color{red}{\underline{\bf C:}} #1}}

% Macros report
\newcommand{\M}{\mathcal{M}}

\newcommand{\ifnonempty}[3]{%
  % IF #1 is empty THEN #3 ELSE #2
  \def\tempa{}%
  \def\tempb{#1}%
  \ifx\tempa\tempb % Empty case
  #3 
  \else            % Non-empty case
  #2
  \fi}

\newcommand{\KX}{K \left\langle X \right\rangle}


\def\todo#1{\ \!\!{\color{red} #1}}


\def\eqdef{\stackrel{\text{def}}{=}}




\begin{document}

\fancyhead{}

\title{On The Difficulty of Computing Non-Commutative Signature Gröbner Bases}

\author{Cyrille Chenavier}
\affiliation{Universit\'e de Limoges;
  \institution{CNRS, XLIM UMR 7252}
  \city{Limoges}
  \country{France}  
  \postcode{87060}  
}
\email{cyrille.chenavier@unilim.fr}


\author{
  Arthur Léonard}
\affiliation{\'Ecole Normale Supérieure, 
  \institution{DI, DMA}
  \city{Paris}
  \country{France}  
}
\email{arthur.leonard@ens.psl.eu }

\author{
  Tristan Vaccon}
\affiliation{Universit\'e de Limoges;
  \institution{CNRS, XLIM UMR 7252}
  \city{Limoges}
  \country{France}  
  \postcode{87060}  
}
\email{tristan.vaccon@unilim.fr}


\thanks{This work was supported by...}


\begin{abstract}
NC GB, signature...\end{abstract}


\begin{CCSXML}
  <ccs2012>
  <concept>
  <concept_id>10010147.10010148.10010149.10010150</concept_id>
  <concept_desc>Computing methodologies~Algebraic algorithms</concept_desc>
  <concept_significance>500</concept_significance>
  </concept>
  </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computing methodologies~Algebraic algorithms}

% \vspace{-1mm}
% \ccsdesc[500]{Computing methodologies~Algebraic algorithms}
% \printccsdesc

\vspace{-1.5mm}
\terms{Algorithms, Theory}





\keywords{Algorithms, Gröbner bases, non-commutative algebra}

\maketitle

%\clubpenalty=10000
\widowpenalty = 10000
\addtolength{\textfloatsep}{-0.45cm} % Distance between float (e.g. [t]) and text

\section{Introduction}
Commutative part.
Modern algorithms:
\cite{F99,F5,FGLM}.
Survey \cite{EF17}
New take  \cite{G2V, GVW}
Applications \cite{LWXZ, CVV20, VVY21}

NC part.
Intro \cite{Mora94}
Freaks \cite{GMU00}.
F5 for right-modules over path algebra quotients \cite{K14}.
GVW for skew polynomial rings \cite{ZZ15}
Final complete
nc version \cite{HV21}.

\section{Notations}

In this article,
we work with
the notations defined
in \cite{HV21}.

%Aller jusqu'à la Def 18
%de l'article HV


Let $X= \{ x_1,\dots,x_n \}$
be a set of indeterminates.
We denote by $\left\langle X \right\rangle$ the
free monoid of words 
over $X$ and, for a field
$K$, we denote by
$\KX$ the
free algebra generated by $X$
over $K.$
We consider the elements
in $\KX$
as noncommutative polynomials
with coefficients in $K$
and indeterminates in $X$
(indeterminates commute
with coefficientes but not
with each other).

If $F \subset \KX,$
we denote by $(F)$
the two-sided ideal 
generated by $F$:
\[(F) = \left\lbrace \sum_{i=1}^d a_i f_i b_i \: \mid \: f_i \in F, \: a_i,b_i \in \KX, \: d \in \NN  \right\rbrace. \]

Let $\leq$ be a monomial 
ordering on $\left\langle X \right\rangle$.
For $f \in \KX \setminus \{ 0 \}$, we denote by $\LC (f), \LT (f), \LM (f)$
the leading coefficients,
leading terms and 
leading monomials of $f$
(with $\LT(f) = \LC(f) \LM(f)$).

We recall that $G \subset (F)$
is a Gröbner basis
of $(F)$ if
$\LM (G)$ generates $LM\left( (F) \right)$ as
monoids inside $\left\langle X \right\rangle.$

For $r \in \NN$ we denote
by $\mathscr{F}_r = \left( \KX \otimes \KX \right)^r$
the free $\KX$-bimodule
of rank $r$, with canonical
basis $\varepsilon_1,\dots,\varepsilon_r$
where $\varepsilon_i =(0,\dots,0,1 \otimes 1,0,\dots,0)$ ($1 \otimes 1$ in the $i$-th position) for $i \in \llbracket 1,r \rrbracket.$
Let $\MM \left( \mathscr{F}_r \right)= \left\lbrace a \varepsilon_i b \mid a,b \in \left\langle X \right\rangle, \: i \in \llbracket 1,r\rrbracket \right\rbrace$
be the set of module monomials in $\mathscr{F}_r.$ It is a $K$-vector space basis
of $\mathscr{F}_r.$
Let $\leq_\MM$ be a module
ordering on $\MM \left( \mathscr{F}_r \right).$
We recall that it means that
$\leq_\MM$ is a well-ordering
compatible with 
scalar multiplication, that
is 
$\mu \leq_\MM \mu'$ implies
$a \mu b \leq_\MM a \mu' b$
for all $\mu,\mu' \in \MM \left( \mathscr{F}_r \right)$
and $a, b \in \left\langle X \right\rangle.$
We assume that 
$\leq$ and $\leq_\MM$
are compatible
(\textit{i.e.} for any
$a,b \in \left\langle X \right\rangle$, $i \in \llbracket 1,r \rrbracket$,
$a \leq b \Leftrightarrow a \varepsilon_i \leq_\MM b \varepsilon_i \Leftrightarrow \varepsilon_i a \leq_\MM \varepsilon_i b$).
We also assume that 
$\leq_\MM$ is fair (for any
$\mu \in \MM (\mathscr{F}_r)$,
the set $\left\lbrace \mu' \in \MM (\mathscr{F}_r) \mid \mu' \leq_\MM \mu \right\rbrace$ is finite).

If $\alpha \in \mathscr{F}_r$, it can be uniquely
written in the basis 
$\MM \left( \mathscr{F}_r \right) $
and the biggest monomial
involved is its signature
$\mathfrak{s}(\alpha) \in \MM (\mathscr{F}_r)$.
Moreover, given a subset $E$ of $\mathscr{F}_r$, we let
\[\mathfrak{s}(E)=\left\{\mathfrak{s}(\alpha)\mid \alpha\in E\right\}.\]

If $M \subset \mathscr{F}_r$
is a $\KX$-submodule,
then $G \subset M$ is called
a Gröbner basis of $M$ if
\[\mathfrak{s}(M)= \left\lbrace a \mathfrak{s}(\gamma) b \mid a,b \in \left\langle X \right\rangle, \gamma \in G \right\rbrace. \]

Let $f_1,\dots,f_r \in \KX$
be some polynomials
generating the ideal $I=(f_1,\dots,f_r).$
They define a 
$\KX$-module homomorphism:

\[
\begin{array}{ccccc}
&& \mathscr{F}_r & \rightarrow & \KX \\
\overline{\cdot}& : &\alpha = \sum_i c_i a_i \varepsilon_{j_i} b_i&\mapsto& \overline{\alpha}=\sum_i c_i a_i f_{j_i} b_i. \\
\end{array}\]

Elements $(f,\alpha) \in \KX \times \mathscr{F}_r$
such that $f=\overline{\alpha}$
are called signature polynomials.
We denote by $f^{[\alpha]}$
such a pair. 
For such a pair, necessarily,
$f \in I.$
We denote by $I^{[\Sigma ]}=\left\lbrace f^{[\alpha]} \mid f=\overline{\alpha} \right\rbrace \subset I \times \mathscr{F}_r$
the set of all signature
polynomials.

For $f^{[\alpha]},g^{[\beta]},
h^{[\gamma]} \in I^{\Sigma},$
with $\alpha, g \neq 0,$
we say that 
$f^{[\alpha]}$ $\mathfrak{s}$-reduces to
$g^{[\beta]}$ by
$h^{[\gamma]}$
if there exist $a,b \in 
\left\langle X \right\rangle$
such that:
\begin{itemize}
\item $a \LM(h)b \in supp(f),$
\item $\mathfrak{s}(a \gamma b) \leq \mathfrak{s}(\alpha),$ and
\item $g^{[\beta]}=f^{[\alpha]}-\frac{coeff(f,a \LM(h)b}{\LC(g)} a h^{[\gamma]}b.$
\end{itemize}
Reduction by a set $G^{[\Sigma]} \in I^{[\Sigma]}$
is then defined as the 
reflexive, transitive closure
of the reduction by elements
of $G^{[\Sigma]} $.

Finally, $G^{[\Sigma]} $
is called a \textit{signature
Gröbner basis} of $I^{[\Sigma]}$ if all
$f^{[\alpha]} \in I^{[\Sigma]}$ $\mathfrak{s}$-reduce to zero by $G^{[\Sigma]}.$

\section{Regular}

Looking at principal syzygies and the algorithm for computing new ones, we wonder if an automaton can recognize leading monomials of syzygies in the case where the Gröbner basis is finite. Let us show that this is not the case using the non regular language\linebreak $\{a^nb^n \;|\; n \in \N\}$. Let us consider the alphabet 
$$X:=\{a, b, c, d, e, s, t, x, y, z, \infty\}$$
and polynomials
\begin{align*}
g_1 & := ssa - tcx \\
g_2 & := xa - ax \\
g_3 & := xd - dx \\
g_4 & := ya - ay \\
g_5 & := yd - dy \\
g_6 & := xbb - dyb \\
g_7 & := cya - ccx \\
g_8 & := xbe - dze \\
g_9 & := dz - zb \\
g_{10} & := cz - za \\
g_{11} & := ss-tz
\end{align*}
together with the order $m_1 < m_2$ if:
\begin{itemize}
\item the degree of $m_1$ is strictly smaller than the degree of $m_2$,
\item $m_1$ and $m_2$ have the same degree and there are less $\infty$ symbols in $m_1$ than in $m_2$,
\item $m_1$ and $m_2$ have the same degree, the same number of $\infty$ symbols and there are less $s$ symbols in $m_1$ than in $m_2$,
\item $m_1$ and $m_2$ have the same degree, the same numbers of $\infty$, and the same number $s$ symbols, but
$m_1 <_{lex} m_2$ where\\ $a < b < c < d < x < y < z < e < t < s < \infty$.
\end{itemize}
Such defined, this order is fair.

\fixmecc{Given $l,r,l',r'\in\KX$, have (let?) $l\varepsilon_i r\leq l'\varepsilon_j r'$ if
  \begin{itemize}
  \item $l\LM(g_i)r < l'\LM(g_j)r'$
  \item $l\LM(g_i)r = l'\LM(g_j)r'$ et $i < j$
  \item $l\LM(g_i)r = l'\LM(g_j)r'$ et $i = j$ et $\deg{l} < \deg{l'}$.
  \end{itemize}
  Such defined this order is fair.
      
  The idea is that $s, t, e$ symbols take place at the ends of a word in order to handle the following operations between the first $a$ and the last $b$.
  The first $a$ will transform and generate an $x$, other $a$'s will absorb a $y$, and generate an $x$ will transforming into a $c$.
The last $b$ will absorb an $x$, generate a $z$ while transforming into a $d$, other $b$'s will absorb an $x$, generate a $y$ while transforming into a $d$.
The $x$'s and $y$'s are messages which commute with $a$'s and $d$'s. A $x$ "dit" transmits the information to the border between $b$'s and $d$'s than an $a$ transformed into a $c$, while a $y$ transmits the information to the border between $a$'s and $c$'s than a $b$ transformed into a $d$. The objective being that in order to compare the numbers of $a$'s and $b$'s, there are the same number of transformations of each type.
The $z$ is the message which enables us to transform $d$'s into $b$'s and $c$'s into $a$'s at the end of the procedure.
We will explain latter the role played by $\infty$ symbol.
}

{\color{blue}{\bf\underline{Version française:}}  Nous avons $(l, i, r) \leq (l', j, r')$ si l'une des conditions ci-desous est vérifiée~:
\begin{itemize}
	\item $l\LM(g_i)r < l'\LM(g_j)r'$
	\item $l\LM(g_i)r = l'\LM(g_j)r'$ et $i < j$
	\item $l\LM(g_i)r = l'\LM(g_j)r'$ et $i = j$ et $\deg{l} < \deg{l'}$.
\end{itemize}

L'idée est que les deux symboles $s, t, e$ sont présents aux extrémités du mot pour pouvoir faire des opérations sur le premier $a$ ou sur le dernier $b$.
Le premier $a$ va se transformer en $c$ en générant un $x$, les autres $a$ vont absorber un $y$, et générer un $x$ en se tranformant en $c$.
Le dernier $b$ va absorber un $x$, générer un $z$ et se transformer en $d$, les autres $b$ vont absorber un $x$, et générer un $y$ en se transformant en $d$.
Les $x$ et les $y$ sont des "messages" qui commutent avec les $a$ et les $d$. Un $x$ "dit" à la frontière entre les $b$ et les $d$ qu'un $a$ s'est transformé en $c$, alors qu'un $y$ "dit" à la frontière entre les $a$ et les $c$ qu'un $b$ s'est transformé en $d$, l'objectif étant que pour comparer le nombre de $a$ et de $b$, il y ait autant de transformations de chaque type.
Le $z$ est le message qui permet de retransformer les $d$ en $b$ et les $c$ en $a$ à la fin du processus. On reparlera du rôle de $\infty$ plus tard.
}

For a better understanding, let us consider the case $n=2$. The monomial $\varepsilon_{11}a^2b^2e$ is a leading monomial of a syzygy because of the following sequence of equalities.
\begin{align*}
ssaabbe & =_{1} tcxabbe =_{2} tcaxbbe =_{6} tcadybe \\
& =_{5} tcaydbe =_{4} tcyadbe =_{7} tccxdbe \\
& =_{3} tccdxbe =_{8} tccddze =_{9} tccdzbe \\
& =_{9} tcczbbe =_{10} tczabbe =_{10} tzaabbe \\
& =_{11} ssaabbe
\end{align*}


\begin{proposition}
  Leading monomials of syzygies of $F=\{g_1,\dots,g_{11}\}$ do not form a regular language.
  \label{prop:exp_pas_regulier}
\end{proposition}
\begin{proof}
  For every $n \geq 1$, $g_{11}a^nb^ne$ is the leading monomial of the syzygy:

  \begin{align*}
    g_1a^{n-1}b^ne & + \sum_{k = 2}^{n} tc^{k - 2}g_7a^{n - k}d^{k - 1}b^{n - k + 1}e \\
    & + \sum_{k = 1}^{n - 1} tc^ka^{n - k}d^{k - 1}g_6b^{n - k - 1}e \\
    & + c^nd^{n - 1}g_8 \\
    & + g_{11}a^nb^ne \\
    & + \sum_{k = 1}^n tc^nd^{n - k}g_9b^{k - 1}e \\
    & + \sum_{k = 1}^n tc^{n - k}g_{10}a^{k - 1}b^ne \\
    & + \sum_{k = 1}^{n} \sum_{l = 0}^{n - k - 1} tc^{k}a^{l}g_2a^{n - l - k - 1}d^{k - 1}b^{n - k + 1} e \\
    & + \sum_{k = 1}^{n} \sum_{l = 0}^{k - 2} tc^{k}a^{n - k}d^lg_3d^{k - 2 - l}b^{n - k - 1}e \\
    & + \sum_{k = 1}^{n - 1} \sum_{l = 0}^{k - 1} tc^{k}a^{n - k}d^lg_5d^{k - 1 - l}b^{n - k - 2}e \\
    & + \sum_{k = 1}^{n - 1} \sum_{l = 0}^{n - k - 1} tc^{k}a^{l}g_4a^{n - l - k - 1}d^{k}b^{n - k} e. \\
  \end{align*}

  Now, let us show that leading monomials of syzygies of the form $\varepsilon_{11}a^nb^me$ are such that $n = m$.
  Let $\sigma$ be such a syzygy and let $G$ be the graph whose vertices are elements of $\left\langle X \right\rangle$, and there is an edge between vertices of the form $l\omega r$ and $l\omega'r$ as soon as $lg_ir$ occurs with a nonzero coefficient in $\sigma$ and $g_i=\omega - \omega'$. Let $W$ be the set of vertices of the following form:
  \begin{align*}
    & ssa^nb^ne, \\
    & tc^pa^qxa^rd^nb^me, \\
    & tc^pa^qd^rxd^nb^me, \\
    & tc^pa^qya^rd^nb^me, \\
    & tc^pa^qd^ryd^nb^me, \\
    & tc^pza^qb^re, \\
    & tc^pd^qzb^re
  \end{align*}
  Each vertex in $W$ is related to at most two vertices, which also belong to $W$. When an undirected graph is such that each vertex is related to at most two vertices, each connected component is either a chain or cycle, so that the connected component of $ssa^nb^me$ in $G$ is either a chain or a cycle.
  But since $\sigma$ is a syzygy, this connected component has to be a cycle, which implies $n = m$.
  Let $\mathscr{C}$ be defined by:
$$\mathscr{C}=\{l\varepsilon_ir \in \MM(\mathscr{F}_r) \;|\; l \LM(g_i) r \mbox{ does not contain } \infty\}.$$
   Let $\mathscr{A}$ be the set of leading monomials of syzygies of $F$.
   Now, we can conclude that the set $\mathscr{A} \cap \mathscr{C}$ does not form a regular language.
  Indeed, by way of contradiction, assume that $\mathscr{A}\cap \mathscr{C}$ is a regular language. Then its
  intersection with the regular language $\{g_{11}a^nb^me \;|\; n, m \geq 1\}$ also forms regular language.
  We reach a contradiction since we proved that this intersection is $\{g_{11}a^nb^ne \;|\; n \geq 1 \}$, which does not form a regular language.
\end{proof}

\begin{cor}
There is a set $F'$ of polynomials which
admits a finite Gröbner basis
and whose set of leading monomials of syzygies does not form a regular language. 
\end{cor}
\begin{proof}
We carry on with the notations of Prop. \ref{prop:exp_pas_regulier} and
its proof.
Notice that $F=\{g_1,\dots,g_{11}\}$ has no reason to have a finite Gröbner basis. However, we construct a new set $F'$ by adding to $F$ the polynomial $\infty$ and all polynomials of the form $\infty-\alpha$, for letters $\alpha$ different from $\infty$. Then $F'$ admits the reduced Gröbner basis which contains each letter.
Now, let $\mathscr{B}$ be the sets of leading monomials of syzygies of $F'$.
As our ideal is homogeneous,
the set of the
leading monomials of the syzygies
is the same as the set of the leading
monomials of the homogeneous syzygies.
Thanks to the way we defined our order,
if $\sigma \in Syz(F')$ is homogeneous,
and
if $\infty$ appears in a $l \LM(g_i) r$,
for some $l \varepsilon_i r$ 
a term of $\sigma.$ 
then 
$\infty$ appears in $l' \LM(g_j) r'$
where $l' \varepsilon_j r'$ is the $\LM$
of $\sigma.$
Thus $\mathscr{A} \cap \mathscr{C}=\mathscr{B} \cap \mathscr{C}$. Since $\mathscr{C}$ is a regular language and $\mathscr{A} \cap \mathscr{C}$ is not a regular language, $\mathscr{B}$ is not a regular language. Hence, we have constructed a set $F'$ of polynomials that admit a finite Gröbner basis whose set of leading monomials of syzygies does not form a regular language. 
\end{proof}


\section{Context free}

We extend the result of the previous section by showing that even a pushdown automaton cannot recognize leading monomials of syzygies for a finite Gröbner basis. For that, we use the non algebraic language $\{a^nb^nc^n \;|\; n \in \N\}$. Let us consider the new alphabet 
$$X:=\{a, b, c, \alpha ,\beta , \gamma, e, s, t, x, y, z, o, \infty\}$$
and polynomials \fixmecc{pourquoi cette numérotation?}

\begin{align*}
g_1 & := ssa - t\alpha x \\ 
g_2 & := xa - ax \\ 
g_{11} & := x\beta-\beta x\\ 
g_{12} & := xb-\beta y \\ 
%g_3 & := xbb - \beta yb\\ 
% Inutile, redondante avec g_12
g_4 & := yb-by\\ 
g_{13} & := y\gamma-\gamma y \\
g_5 & := ycc-\gamma zc \\ 
g_6 & :=  \gamma z-z\gamma\\ 
g_7 & := bz-zb \\
g_8 & := \beta z-z\beta \\
g_9 & := az-za \\ 
g_{10} & := \alpha za-\alpha\alpha x  \\ 
g_{19} & := yce - \gamma oe \\
g_{14} & := \gamma o-oc \\
%g_{15} & := oc-\gamma o \\ 
% Inutile, redondante avec g_14
g_{16} & := \beta o-ob \\ 
g_{17} & := \alpha o-oa \\ 
g_{18} & := to-ss
\end{align*}
As in the previous section, we consider the fair order that first compares degrees, then the number of $\infty$ symbols, then the number of $s$ symbols and finally the lex order for\\
$a<b<c<\alpha<\beta<\gamma<x<y<z<o<e<t<s<\infty$. 
\fixmecc{vérifier}
For $n=2$, we get the syzygy with leadong monomial $\epsilon_{18}ssaabbcce$:

\begin{align*}
ssaabbcce & =_{1} t\alpha xabbcce =_{2} t\alpha axbbcce =_{12} t\alpha a\beta ybcce \\
& =_{4} t\alpha a\beta bycce =_{5} t\alpha a\beta b\gamma zce =_{6} t\alpha a\beta bz\gamma ce \\
& =_{7} t\alpha a\beta zb\gamma ce =_{8} t\alpha az\beta b\gamma ce =_{9} t\alpha za\beta b\gamma ce \\
& =_{10} t\alpha\alpha x\beta b\gamma ce =_{11} t\alpha\alpha\beta xb\gamma ce =_{12} t\alpha\alpha\beta\beta y\gamma ce \\
& =_{13} t\alpha\alpha\beta\beta\gamma yce =_{19} t\alpha\alpha\beta\beta\gamma\gamma oe =_{14}
t\alpha\alpha\beta\beta\gamma oce\\
& =_{14} t\alpha\alpha\beta\beta occe =_{16} t\alpha\alpha\beta obcce
=_{16} t\alpha\alpha obbcce\\ 
& =_{17}t\alpha oabbcce =_{17} toaabbcce =_{18}ssaabbcce
\end{align*}
\fixmecc{vérifier}

\begin{proposition}
  Leading monomials of syzygies of $F=\{g_1,\dots,g_{18}\}$ do not form an context free language.
  \label{prop:exp_pas_regulier}
\end{proposition}
\begin{proof}
  For every $n \geq 1$, $g_{18}a^nb^nc^ne$ is the leading monomial of the syzygy following from the adaptation
  of the previous sequence of equalities for higher numbers of $a$'s, $b$'s and $c$'s.
  
  Now, let us show that leading monomials of syzygies of the form $\varepsilon_{18}a^nb^mc^ke$ are such that $n = m=k$.
  Let $\sigma$ be such a syzygy and let $G$ be the graph whose vertices are elements of $\left\langle X \right\rangle$, and there is an edge between vertices of the form $l\omega r$ and $l\omega'r$ as soon as $lg_ir$ occurs with a nonzero coefficient in $\sigma$ and $g_i=\omega - \omega'$. Let $W$ be the set of vertices of the following form:
  \begin{align*}
    & ssa^nb^ne, \\
    & tc^pa^qxa^rd^nb^me, \\
    & tc^pa^qd^rxd^nb^me, \\
    & tc^pa^qya^rd^nb^me, \\
    & tc^pa^qd^ryd^nb^me, \\
    & tc^pza^qb^re, \\
    & tc^pd^qzb^re
  \end{align*}
  Each vertex in $W$ is related to at most two vertices, which also belong to $W$. When an undirected graph is such that each vertex is related to at most two vertices, each connected component is either a chain or cycle, so that the connected component of $ssa^nb^me$ in $G$ is either a chain or a cycle.
  But since $\sigma$ is a syzygy, this connected component has to be a cycle, which implies $n = m$.
  Let $\mathscr{C}$ be defined by:
$$\mathscr{C}=\{l\varepsilon_ir \in \MM(\mathscr{F}_r) \;|\; l \LM(g_i) r \mbox{ does not contain } \infty\}.$$
   Let $\mathscr{A}$ be the set of leading monomials of syzygies of $F$.
   Now, we can conclude that the set $\mathscr{A} \cap \mathscr{C}$ does not form a regular language.
  Indeed, by way of contradiction, assume that $\mathscr{A}\cap \mathscr{C}$ is a regular language. Then its
  intersection with the regular language $\{g_{11}a^nb^me \;|\; n, m \geq 1\}$ also forms regular language.
  We reach a contradiction since we proved that this intersection is $\{g_{11}a^nb^ne \;|\; n \geq 1 \}$, which does not form a regular language.
\end{proof}

\begin{cor}
There is a set $F'$ of polynomials which
admits a finite Gröbner basis
and whose set of leading monomials of syzygies does not form a context free language. 
\end{cor}
\begin{proof}
  We proceed as in the previous section: a counter example is given by the ideal
  generated by $g_1,\dots,g_{18}$ and polynomials of the form $\infty-d$, for letters
  $d$ different from $\infty$.
\end{proof}


\section{Fairness}

\section{Compatibility}

In this Section,
we provide an example
of a set of polynomials
such that 
it has a finite GB,
its module of
syzygies is generated
by one syzygy plus
the principal syzygies,
but there is
a non-compatible order
such that it
has no finite signature GB.

We set $X = \{t, x, a, b \}$.
We take as order on 
$\left\langle X \right\rangle$ the 
graded lexicographic order
with $a < b < t < x$.

Let us define:
\begin{align*}
	g_1 &:= xt - ta \\
	g_2 &:= xt - tb \\
	g_3 &:= b - a
\end{align*}
One shows easily
thanks to Buchberger's criterion
that $(g_1,g_2,g_3)$
is a GB of the ideal $I$ it spans.

We define the following
fair but non-compatible order
on $\MM \left( \mathscr{F}_3 \right):$
  $(l, i, r) \leq (l', j, r')$ if one of the following
  conditions is satisfied:
\begin{itemize}
	\item $\deg{l\LM(g_i)r} < \deg{l'\LM(g_j)r'}$
	\item $\deg{l\LM(g_i)r} = \deg{l'\LM(g_j)r'}$ and $i < j$.
	\item $\deg{l\LM(g_i)r} = \deg{l'\LM(g_j)r'}$ and $i = j$ and $\deg{r} < \deg{r'}$.
	\item $\deg{l\LM(g_i)r} = \deg{l'\LM(g_j)r'}$ and $i = j$ and $\deg{r} = \deg{r'}$ and $l\LM(g_i)r \geq l'\LM(g_j)r'$.
	% Penser à xxt xta taa tab xtb pour voir que le signe doit être dans l'autre sens.
\end{itemize}

We define the 
degree of an element of 
$\MM \left( \mathscr{F}_3 \right)$
by $$\deg{(l, \varepsilon_i, r)} = \deg{l \LM(g_i) r}$$.
This extends to $\mathscr{F}_3$
by stating that the 
degree of 
an element is the maximal
degree of the monomials
of its terms.

\begin{lem}
	In this context
	$I^\Sigma$ has no
	finite signature GB.
\end{lem}
\begin{proof}
We proceed by contradiction.
Let us assume that $G^{[\Sigma]}$ is such 
a basis.
Using inter-reduction,
we may assume that
$G^{[\Sigma]}$
is reduced.	
	
	\begin{fact}
		For any $(f,\sigma)$ in $G_f$, $\deg{\LM(f)} = \deg{\LM(\sigma)}$.
	\end{fact}
	\begin{proof}
	If it were not the case,
	 thanks to
	homogeneity,
	the terms of 
	degree  $\deg{\LM(\sigma)}$ in $\sigma$ would correspond to
	a syzygy, which contradicts our hypothesis
	that $(f,\sigma)$ is
	irreducible.
	\end{proof}
	
Now, for any $n \in \N$,
	$$\left(ta^nb - ta^{n+1}, - (x^n, 2, 1)
		- \sum_{i = 0}^{n - 1}(x^i, 1, a^{n - 1 - i}b) + 
		\sum_{i = 0}^{n} (x^i, 1, a^{n - i})
		  \right)$$
	is in $I^{[\Sigma]}.$
Hence, it has to be
$\sss$-reducible
by some 
 $(f_n, \sigma_n)$ of $G^{[\Sigma]}$.
 There is then some
 $l, r \in \KX$ such that:
	\begin{align*}
		l\LM(f_n)r = ta^nb, \\
		l \LM(\sigma_n) r \leq (x^n, 2, 1).
	\end{align*}
	
We take some $n$
such that 
the degree of $ta^nb$
is strictly bigger
than any $\LM$
of a polynomial
in $\GS$. 
	Therefore, $\LM(f_n)$ is one of the following: $a^k$, $a^kb$, or $ta^k$,
	for some $k.$
Two cases are then possible:	
	\begin{itemize}
		\item $\LM(f_n)$ 
		has no $t$. 
		In that case,$\LM(f_n)$  can only
be reached using 
a term of the form
$(u, \varepsilon_3, v)$ 
in $\sigma_n$, with $\deg (u, \varepsilon_3, v) = \deg \LM(f_n)$,
and this is a contradiction
since:
		$$(lu, \varepsilon_3, vr) \leq l \LM(\sigma_n) r \leq (x^n, \varepsilon_2, 1),$$
		with $\deg (lu, 3, vr) = \deg (x^n, 2, 1)$.
		
		\item Otherwise, $\LM(f_n) = ta^k$.
		This is actually
not possible:
$ta^k$ is divisible
by none of the $\LM(g_i)$'s.
	\end{itemize}
Consequently, we obtain
a contradiction in both
cases, wich concludes
the proof.
\end{proof}

Let us define the
following syzygy:
$$\sigma := (t, 3, 1) + (1, 2, 1) - (1, 1, 1).$$

Then, the syzygy module
can be generated using $\sigma.$
\begin{lem}
	The union $U$ of $\{\sigma\}$ and of the principal syzygies is a GB
	of the syzygies.
\end{lem}
\begin{proof}
We show that any non-zero
syzygy is reducible by
an element of $U.$
It will be enough to 
conclude.
\begin{fact}
	If any non-zero
syzygy is reducible by
an element of $U$
then $U$ is a GB 
of the syzygy module.
\end{fact}
\begin{proof}
The order on $\MM \left( \mathscr{F}_3 \right)$
is isomorphic to $\NN.$
Let us then enumerate
increasingly the monomials
of $\MM \left( \mathscr{F}_3 \right)$:
$\alpha_1 < \alpha_2< \dots.$
For any element $a=\sum_i c_i \alpha_i$ of 
$\mathscr{F}_3,$
we associate the integer
$int(a)$:
$\sum_{i \textrm{ s.t. } c_i \neq 0} 2^i.$
Then any reduction
corresponds to a decrease
of $int.$
Then, eventually,
the $\LM$ of $a$
will be reduced,
and this is enough to conclure. 
\end{proof}

	Let $s$ be a non-zero syzygy.
	
	As the $g_i$'s are of the form $\alpha_i - \beta_i$, 
	we can define
	$$m := \min_{(l, \varepsilon_i, r) \mbox{ monomial of } s} l \beta_i r$$
	
	Since $\overline{s} = 0$, there is at least
	two monomials $s$, $(l_1, i_1, r_1)$ and $(l_2, i_2, r_2)$ of $s$, such that $l_1 \beta_{i_1} r_1 = l_2 \beta_{i_2} r_2 = m$.
	Then, $l_1 = l_2$ and $r_1 = r_2$ is not possible
	as it would mean that 
	$\beta_{i_1} = \beta_{i_2}$ and hence $i_1 = i_2$.
	
	If $\deg{l_1} \geq \deg{l_2 \beta_{i_2}}$ or $\deg{l_2} \geq \deg{l_1 \beta_{i_1}}$, then by
	symmetry, we can assume that $m$ can be written:
	$$m_1 \beta_{i_1} m_2 \beta_{i_2} m_3.$$
	Consequently:
	\begin{align*}
		(l_1, i_1, r_1) &= (m_1, i_1, m_2 \beta_{i_2} m_3), \\
		(l_2, i_2, r_2) &= (m_1 \beta_{i_1} m_2, i_2, m_3).
	\end{align*}
	Therefore, $s$ is reducible by the principal
	syzygy:
	$$m_1 (g_{i_1} (m_2, i_2, 1) - (1, i_1, m_2) g_{i_2}) m_3.$$
	
	Otherwise, two
	occurences of $\beta_{i_1}$ and $\beta_{i_2}$ in $m$
	have a non-empty intersection, which is not
	a complete identity.
	
	It is only possible if $\{i_1, i_2\} = \{1, 3\}$.
	By symmetry, let us
	assume that $i_1 = 1$ and $i_2 = 3$. In that cas,
	 $m$ can be written:
	$$m_1 ta m_2.$$
	Therefore:
	\begin{align*}
		(l_1, i_1, r_1) &= (m_1, \varepsilon_1, m_2), \\
		(l_2, i_2, r_2) &= (m_1 t, \varepsilon_3, m_2).
	\end{align*}
	Hence, $s$ est reducible by the syzygy:
	$$m_1 \sigma m_2.$$
	
	Consequently, any non-zero syzygy is divisible
	by an element of $U,$
	and this concludes the proof.
\end{proof}

\section{A case of finite GB for the syzygy module}

Because of the amount of 
trivial syzygies (of the form $\varepsilon_i A f_j-f_i A \varepsilon_j$),
it is often the case that the module of syzygys
has no finite GB, as remarked 
in $\sec 4.3$ of \cite{HV21}. 
One of the authors of this article 
conjectured in a presentation at the 
Journées Nationales du Calcul Formel
(\url{https://www.cirm-math.fr/RepOrga/2568/Slides/verron.pdf})
that it was always the case for $n>1$
(non-commutative case) and $r>1$ (non-principal ideal).
We present here a counter-example.


Let $(f_1,f_2)=(x-y,y^2) \in \mathbb{Q} \left\langle x,y \right\rangle^2,$
equipped with the \textit{deglex} monomial ordering $\leq.$
We prove that $Syz(f_1,f_2)$ admits a finite GB 
for the following module ordering: for $a_1 \varepsilon_{i_1} b_1, a_2 \varepsilon_{i_2} b_2 \in \MM \left( \mathscr{F}_2 \right)$, we say that  $a_1 \varepsilon_{i_1} b_1 \leq a_2 \varepsilon_{i_2} b_2$ if:
\begin{enumerate}
\item $a_1<a_2$.
\item $a_1=a_2$ and $b_1 < b_2,$
\item $a_1=a_2,$ $b_1 = b_2,$ and $i_1 \leq i_2.$
\end{enumerate}

We then have the following fact:
\begin{itemize}
\item $s_1=\underline{xy \varepsilon_2}-\varepsilon_2 y^2+ x \varepsilon_1 y^2-y \varepsilon_1 y^2- \varepsilon_1 x y^2 \in Syz(f_1,f_2)$,
\item $s_2=\underline{xy \varepsilon_1}-yx\varepsilon_1 -  \varepsilon_1 x^2+y \varepsilon_1 xy \in Syz(f_1,f_2)$.
\end{itemize}
In addition, the following are trivial syzygys:

\begin{itemize}
\item $s_3=\underline{x \varepsilon_1}-y\varepsilon_1- \varepsilon_1 x + \varepsilon_1 y \in Syz(f_1,f_2)$,
\item $s_4=\underline{y^2 \varepsilon_1}-\varepsilon_2 x +  \varepsilon_2 y \in Syz(f_1,f_2)$.
\item $s_5=\underline{x \varepsilon_2}-y\varepsilon_2- y^2 \varepsilon_2  \in Syz(f_1,f_2)$,
\item $s_6=\underline{y^2 \varepsilon_2}-\varepsilon_2 y^2 \in Syz(f_1,f_2)$.
\end{itemize}

We then state that:
\begin{lem}
The module of syzygys $Syz(f_1,f_2)$ admits $(s_1,\dots,s_6)$
as a Gröbner basis.
\end{lem}
\begin{proof}
Let $m=a \varepsilon_1 b \in \MM \left( \mathscr{F}_2 \right)$
be a leading monomial of a syzygy $s$.
Then we distinguish the following cases.
\begin{enumerate}
\item If $a = \dots x$ then $m$ is divisible by $\LM(s_3).$
\item If $a = \dots xy$ then $m$ is divisible by $\LM(s_2).$
\item If $a = \dots y^2$ then $m$ is divisible by $\LM(s_4).$
\item If $a = y,$ then $s = y \varepsilon_1 u+  \varepsilon_1 v + \varepsilon_2 w$ for some polynomials $u,v,w.$
Applying $\overline{\cdot}$ (mapping $\varepsilon_i$ to $f_i$), we 
obtain that $y (x-y) u+  (x-y) v + y^2 w=0.$
On the left hand-side, the polynomial $xv$ contains all the monomials
with prefix $x$, which implies 
that no cancellation with other terms can occur,
and then $v=0.$
Similarly, $yxu$ contains all the monomials
with prefix $yx$, which then implies that
$u=0$ and then $y^2 w=0$ and $w=0$, and we get
a contradiction.
\item If $a = 1,$ then $s = \varepsilon_1 u+  \varepsilon_2 v $ for some polynomials $u,v.$
Again, applying $\overline{\cdot}$, we 
obtain that $u=v=0$ which is a contradiction.
\end{enumerate}
Similarly, let $m=a \varepsilon_2 b \in \MM \left( \mathscr{F}_2 \right)$
be a leading monomial of a syzygy $s$. Then:
\begin{enumerate}
\item If $a = \dots x$ then $m$ is divisible by $\LM(s_5).$
\item If $a = \dots xy$ then $m$ is divisible by $\LM(s_1).$
\item If $a = \dots y^2$ then $m$ is divisible by $\LM(s_6).$
\item If $a = y,$ we obtain a contradiction.
\item If $a = 1,$ we also obtain a contradiction.
\end{enumerate}

In conclusion, the leading monomials in $Syz(f_1,f_2)$
are of one of the following forms, for some $i=1,2$, $\alpha, \beta \in \left\langle x,y \right\rangle$:
\begin{itemize}
\item $\alpha x \varepsilon_i \beta,$
\item $\alpha xy \varepsilon_i \beta,$
\item $\alpha y^2 \varepsilon_i \beta,$
\end{itemize}
which are all divisible by some $\LM(s_j).$
This concludes the proof.
\end{proof}

Non-homogeneous polynomials leading to degree falls 
can certainly expand 
this example to higher degrees.

\section{Implementation}

\bibliographystyle{plain}
\begin{thebibliography}{99}
  \renewcommand{\itemsep}{0em}
  % \renewcommand{\itemsep}{0.14em}

\bibitem{Bu65}
  Buchberger Bruno,
\newblock{{Ein Algorithmus zum Auffinden der Basiselemente des Restklassenringes nach einem nulldimensionalen Polynomideal (An Algorithm for Finding the Basis Elements in the Residue Class Ring Modulo a Zero Dimensional Polynomial Ideal)}},
\newblock English translation in J. of Symbolic Computation, Special Issue on Logic, Mathematics, and Computer Science: Interactions. Vol. 41, Number 3-4, Pages 475--511, 2006

  \bibitem{CVV20}
  Caruso, X., Vaccon T., Verron T.,
  \newblock {Signature-based algorithms for Gröbner bases over Tate algebras},
  \newblock {in Proceedings: ISSAC 2020, Kalamata, Greece.}

\bibitem{EF17}
Eder Christian and Faug{\`{e}}re Jean{-}Charles,
\newblock {A survey on signature-based algorithms for computing Gr{\"{o}}bner bases},
\newblock J. of Symbolic Computation, 2017


  \bibitem{F99}
  Faugère Jean-Charles,
  \newblock  {{A new efficient algorithm for computing Gröbner bases (F4)}},
  \newblock  {Journal of Pure and Applied Algebra}, {1999}

\bibitem{F5}
Faugère, Jean-Charles,
\newblock {A new efficient algorithm for computing Gröbner bases without reduction to zero (F5)},
\newblock{in Proceedings: {ISSAC'02}.}


  \bibitem{FGLM}
  Faugère, J.-C., Gianni, P., Lazard, D., Mora, T.,
  \newblock{Efficient computation of zero-dimensional Gr{\"o}bner bases by change of ordering},
  \newblock{J. of   Symbolic Computation 16~(4), 329--344, 1993}

  \bibitem{G2V}
Gao Shuhong, Guan Yinhua and Volny IV Frank,
\newblock{ A new incremental algorithm for computing Groebner bases},
\newblock{In Proceedings: {ISSAC'10}.}
%\newblock{ In Proceedings of the 2010 International Symposium on Symbolic and Algebraic Computation (ISSAC ’10). ACM, New York, NY, USA, 13–19.}


  \bibitem{GVW}
Gao Shuhong, Volny IV Frank, and Wang Mingsheng,
\newblock{ A new framework for computing Gröbner bases},
\newblock{ Mathematics of computation, 2016, vol. 85, no 297, p. 449-465.}

\bibitem{K14}
S.A. King,
\newblock {A non-commutative F5 algorithm with an application to the computation of Loewy layers},
\newblock {J. of Symbolic Computation} 65 (2014), pp. 111-129

  \bibitem{LWXZ}
  Lu Dong, Wang Dingkang, Xiao Fanghiu, Zhou Jie,
  \newblock  {{Extending the GVW Algorithm to Local Ring}},
  \newblock {Proceedings of 43th International Symposium on Symbolic and Algebraic Computation, {ISSAC}'18, New York, USA}



\bibitem{GMU00}
E.Green, T. Mora, V.Ufnarovski,
\newblock The Non-Commutative Gröbner Freaks.
\newblock Symbolic Rewriting Techniques. Vol. 15. 



\bibitem{HV21}
C. Hofstadler, T. Verron,
\newblock {
Signature Gröbner bases, bases of syzygies and cofactor reconstruction in the free algebra}, 
\newblock  	arXiv:2107.14675, 2021

\bibitem{Mora94}
T. Mora,
\newblock {
An  introduction to  commutative 
and noncommutative Gröbner 
bases },
\newblock Theoretical Computer Science 134, 1994. 


  \bibitem{Sage}
  \newblock {{S}ageMath, the {S}age {M}athematics {S}oftware {S}ystem ({V}ersion 9.2)}, The Sage Development Team, 2020, \url{http://www.sagemath.org}

\bibitem{VVY21}
T.Vaccon, T.Verron, K.Yokoyama,
\newblock
{On affine tropical F5 algorithms},
\newblock {
Journal of Symbolic Computation},
Volume 102,
2021.

\bibitem{ZZ15}
X. Zhao, Y. Zhang,
\newblock {A signature-based algorithm for computing Gröbner-Shirshov bases in skew solvable polynomial rings}
\newblock Open Mathematics, Volume: 13, Issue: 1, 2015. 

\end{thebibliography}

\end{document}

